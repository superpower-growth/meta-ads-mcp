---
phase: 01-foundation
plan: 01
type: execute
---

<objective>
Initialize TypeScript project with proper structure and dependencies for Meta Marketing API + MCP server integration.

Purpose: Establish the foundational project setup following TypeScript MCP server best practices and Meta SDK requirements.
Output: Working Node.js/TypeScript project with all dependencies installed, build configured, and project structure established.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md

**Standard stack (from RESEARCH.md):**
- facebook-nodejs-business-sdk v24.0.1
- @types/facebook-nodejs-business-sdk v23.0.0
- @modelcontextprotocol/sdk v1.x
- zod v3.25+
- typescript v5.x

**Recommended structure (from RESEARCH.md):**
```
src/
├── index.ts              # Entry point, MCP server setup
├── meta/
│   ├── client.ts         # FacebookAdsApi initialization
│   ├── auth.ts           # OAuth token management
│   └── types.ts          # Meta API TypeScript types
├── tools/
│   ├── get-metrics.ts    # MCP tool: query ad performance
│   ├── get-campaigns.ts  # MCP tool: list campaigns
│   └── index.ts          # Tool registry
├── lib/
│   ├── errors.ts         # Error handling utilities
│   └── validation.ts     # Input validation with Zod
└── config/
    └── env.ts            # Environment configuration
```
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Node.js/TypeScript project with structure</name>
  <files>package.json, tsconfig.json, src/index.ts, .gitignore, .env.example</files>
  <action>
Initialize npm project with package.json. Set "type": "module" for ES modules (required by MCP SDK). Create tsconfig.json with target ES2022, module Node16, strict mode enabled, rootDir "./src", outDir "./build".

Create directory structure:
- src/meta/ (Meta API integration)
- src/tools/ (MCP tool implementations)
- src/lib/ (shared utilities)
- src/config/ (configuration management)

Create src/index.ts as entry point with basic comment structure. Create .gitignore excluding node_modules/, build/, .env. Create .env.example with META_ACCESS_TOKEN and PORT placeholders.

Use TypeScript 5.x for best type safety with Meta SDK. Avoid TypeScript 4.x - missing features for strict null checks with Meta API types.
  </action>
  <verify>
ls shows: package.json, tsconfig.json, src/, .gitignore, .env.example
ls src/ shows: index.ts, meta/, tools/, lib/, config/ directories
cat tsconfig.json | grep "ES2022" returns match
cat package.json | grep "module" shows "type": "module"
  </verify>
  <done>
Project structure created, package.json has "type": "module", tsconfig.json targets ES2022/Node16, all directories exist, .env.example created
  </done>
</task>

<task type="auto">
  <name>Task 2: Install dependencies and configure build scripts</name>
  <files>package.json (updated with dependencies and scripts)</files>
  <action>
Install core dependencies:
```
npm install facebook-nodejs-business-sdk@24.0.1 @modelcontextprotocol/sdk zod
```

Install dev dependencies:
```
npm install -D typescript@^5.0.0 @types/node @types/facebook-nodejs-business-sdk tsx
```

Add scripts to package.json:
- "build": "tsc" (compile TypeScript)
- "dev": "tsx watch src/index.ts" (development with hot reload)
- "start": "node build/index.js" (production)
- "type-check": "tsc --noEmit" (type checking without build)

Use tsx for development instead of ts-node - tsx has better ESM support which MCP SDK requires. Avoid nodemon - tsx watch is faster and handles ESM properly.

Verify @modelcontextprotocol/sdk version is 1.x (not 2.0 pre-alpha). If npm installs 2.x, pin to latest 1.x version explicitly.
  </action>
  <verify>
npm list facebook-nodejs-business-sdk shows v24.0.1
npm list @modelcontextprotocol/sdk shows v1.x (NOT 2.x)
npm list zod shows v3.25+
npm list typescript shows v5.x
cat package.json | grep "\"build\"" shows tsc command
cat package.json | grep "\"dev\"" shows tsx watch
node_modules/ directory exists with packages installed
  </verify>
  <done>
All dependencies installed at correct versions, build/dev/start scripts configured, tsx available for development, TypeScript v5.x installed
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm install completes without errors
- [ ] npm run type-check passes (no TypeScript errors on empty project)
- [ ] src/ directory structure matches RESEARCH.md recommendations
- [ ] package.json has "type": "module" (required for MCP SDK)
- [ ] @modelcontextprotocol/sdk is v1.x (not pre-alpha v2)
</verification>

<success_criteria>
- Project initialized with proper TypeScript configuration
- All core and dev dependencies installed at recommended versions
- Build scripts configured and working
- Directory structure follows MCP server best practices
- ES module configuration correct (type: module)
- No TypeScript compilation errors
- Ready for Meta API client implementation (Plan 01-02)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`:

# Phase 1 Plan 01: Project Foundation Summary

**TypeScript project initialized with Meta SDK + MCP SDK dependencies and recommended directory structure**

## Accomplishments
- Node.js/TypeScript project initialized with ES module support
- Standard stack dependencies installed (facebook-nodejs-business-sdk v24, MCP SDK v1.x, Zod)
- Directory structure established following MCP server patterns
- Build and development scripts configured with tsx

## Files Created/Modified
- `package.json` - Project configuration with dependencies and scripts
- `tsconfig.json` - TypeScript ES2022/Node16 configuration
- `src/index.ts` - Entry point placeholder
- `.gitignore` - Excludes node_modules, build, .env
- `.env.example` - Environment variable template
- Directory structure: src/meta/, src/tools/, src/lib/, src/config/

## Decisions Made
- Used MCP SDK v1.x (not v2 pre-alpha) - v2 releases Q1 2026 with breaking changes
- ES modules ("type": "module") - required by MCP SDK
- tsx for development - better ESM support than ts-node
- TypeScript v5.x - improved type safety for Meta API

## Deviations from Plan
None - plan executed exactly as written.

## Issues Encountered
None

## Next Step
Ready for 01-02-PLAN.md (Meta API Integration)
</output>
